<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{blogTitle}}</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<header class="site-header">
    <div class="container">
        {{#if isLoggedIn}}
            <div class="nav-left">
                <img src="{{user.avatarUrl}}" alt="User Avatar" class="user-avatar">
                <span class="user-birthday">Birthday: {{user.date_of_birth}}</span>
                <h1>{{blogTitle}}</h1>
            </div>
            <nav class="site-nav">
                <a href="/edit-account/{{user.username}}">Edit myAccount</a> <!-- 编辑账户信息的链接 -->


                <a href="/logout">Logout</a> <!-- 注销的链接 -->
            </nav>
        {{else}}
            <nav class="site-nav">
                <a href="/login">Log In</a> <!-- 登录链接，只有未登录时显示 -->
            </nav>
        {{/if}}
    </div>
</header>

<div class="container">
    <!-- 用户信息区域 -->
    <section class="user-info">
        <h2>Welcome, {{user.name}}!</h2>
    </section>

    <section class="intro">
        <h2>Welcome to {{blogTitle}}</h2>
        <p>This is your homepage. It's a great place to talk about your story and what your website offers.</p>
    </section>

    <!-- 用户文章区域 -->
    <section class="user-posts">
        <h2>{{user.name}}'s Recent Posts</h2>
        {{#if user.posts.length}}
            <ul class="posts-list">
                {{#each user.posts}}
                    <li class="post">
                        <h3>{{this.title}}</h3>
                        <p>{{this.content}}</p> <!-- 修改为显示文章内容或摘要 -->
                        <a href="/posts/{{this.id}}">Read more...</a>
                    </li>
                {{/each}}
            </ul>
        {{else}}
            <p>No recent posts.</p>
        {{/if}}
    </section>
</div>

<footer class="site-footer">
    <div class="container">
        &copy; {{currentYear}} {{blogTitle}}. All rights reserved.
    </div>
</footer>
</body>
</html>
